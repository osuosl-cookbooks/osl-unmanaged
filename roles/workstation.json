{
  "name": "workstation",
  "description": "Role for OSL Workstations",
  "json_class": "Chef::Role",
  "default_attributes": {
    "authorization": {
      "sudo": {
        "include_sudoers_d": "true",
        "sudoers_defaults": [
          "env_reset",
          "set_home",
          "secure_path=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\""
        ]
      }
    },
    "chef_client": {
      "init_style": "none",
      "config": {
        "ssl_verify_mode": ":verify_peer"
      },
      "cron": {
        "hour": "*",
        "minute": "*/30",
        "mailto": "chef@osuosl.org",
        "use_cron_d": "true",
        "log_file": "/var/log/chef/client.log"
      }
    },
    "ntp": {
      "servers": ["time.osuosl.org"]
    },
    "openssh": {
      "server": {
        "permit_root_login": "no",
        "x11_forwarding": "yes"
      }
    },
    "postfix": {
      "mydomain": "osuosl.org",
      "myorigin": "osuosl.org",
      "relayhost": "[smtp.osuosl.org]"
    },
    "resolver": {
      "nameservers": ["10.1.0.130", "10.1.0.131", "216.165.191.54"],
      "search": "workstation.osuosl.bak. osuosl.bak. osuosl.org."
    }
  },
  "override_attributes": {
    "authorization": {
      "sudo": {
        "users": ["osuadmin"],
        "groups": []
      }
    }
  },
  "chef_type": "role",
  "run_list": [
    "recipe[base::mailhandler]",
    "recipe[base::users]",
    "recipe[postfix::default]",
    "recipe[chef-client::config]",
    "recipe[chef-client::cron]",
    "recipe[chef-client::delete_validation]",
    "recipe[python]",
    "recipe[sudo::default]",
    "recipe[resolver::default]",
    "recipe[workstation]",
    "recipe[workstation::cron-apt]",
    "recipe[workstation::hosts]",
    "recipe[workstation::network]",
    "recipe[workstation::repos]",
    "recipe[workstation::sudoers]",
    "recipe[workstation::ldap]",
    "recipe[workstation::timezone]",
    "recipe[workstation::autofs]",
    "recipe[workstation::packages]",
    "recipe[workstation::xrandr]",
    "recipe[workstation::dsh]",
    "recipe[workstation::printers]",
    "recipe[workstation::pastebin]",
    "recipe[ntp::default]",
    "recipe[openssh::default]"
  ],
  "env_run_lists": {
  }
}
