{
    "chef_type": "environment",
    "cookbook_versions": {
        "mysql": "4.1.1"
    },
    "default_attributes": {
        "chef_client": {
            "config": {
                "ssl_verify_mode": ":verify_peer"
            }
        }
    },
    "description": "The OSL Openstack Staging Environment (x86)",
    "json_class": "Chef::Environment",
    "name": "osl-openstack-x86-staging",
    "override_attributes": {
        "apache": {
            "contact": "hostmaster@osuosl.org"
        },
        "mysql": {
            "allow_remote_root": true,
            "root_network_acl": "%"
        },
        "openstack": {
            "compute": {
                "config": {
                    "allow_same_net_traffic": "False",
                    "ram_allocation_ratio": 5.0
                },
                "libvirt": {
                    "virt_type": "qemu"
                },
                "network": {
                    "force_dhcp_release": "true",
                    "libvirt_inject_key": "false",
                    "libvirt_inject_password": "false",
                    "multi_host": "true",
                    "public_interface": "eth0",
                    "service_type": "nova"
                },
                "networks": [
                    {
                        "bridge": "br-tenant",
                        "bridge_dev": "eth2",
                        "dns1": "140.211.166.130",
                        "dns2": "140.211.166.131",
                        "ipv4_cidr": "192.168.56.0/22",
                        "label": "private",
                        "multi_host": "T",
                        "network_size": "1024",
                        "num_networks": "1"
                    }
                ]
            },
            "dashboard": {
                "keystone_default_role": "_member_",
                "use_ssl": false
            },
            "developer_mode": true,
            "endpoints": {
                "bind-host": "10.1.0.208",
                "db": {
                    "host": "10.1.0.208"
                },
                "host": "10.1.0.208",
                "mq": {
                    "host": "10.1.0.208"
                },
                "identity-api": {
                    "uri": "http://otest-admin.osuosl.bak:35357/v2.0"
                },
                "identity-admin": {
                    "uri": "http://otest-admin.osuosl.bak:5000/v2.0"
                },
                "compute-api": {
                    "uri": "http://otest-admin.osuosl.bak:8774/v2/%(tenant_id)s"
                },
                "compute-ec2-api": {
                    "uri": "http://otest-admin.osuosl.bak:8773/services/Cloud"
                },
                "compute-ec2-admin": {
                    "uri": "http://otest-admin.osuosl.bak:8773/services/Admin"
                },
                "compute-xvpvnc": {
                    "uri": "http://otest-admin.osuosl.bak:6081/console"
                },
                "compute-novnc": {
                    "uri": "https://otest-admin.osuosl.bak:6080/vnc_auto.html"
                },
                "image-api": {
                    "uri": "http://otest-admin.osuosl.bak:9292/v2"
                },
                "image-registry": {
                    "uri": "http://otest-admin.osuosl.bak:9191/v2"
                },
                "block-storage-api": {
                    "uri": "http://otest-admin.osuosl.bak:8776/v1/%(tenant_id)s"
                },
                "telemetry-api": {
                    "uri": "http://otest-admin.osuosl.bak:9000/v1"
                },
                "orchestration-api": {
                    "uri": "http://otest-admin.osuosl.bak:8004//v1/%(tenant_id)s"
                },
                "orchestration-api-cfn": {
                    "uri": "http://otest-admin.osuosl.bak:8000/v1"
                },
                "orchestration-api-cloudwatch": {
                    "uri": "http://otest-admin.osuosl.bak:8003/v1"
                }
            },
            "image": {
                "image_upload": true,
                "upload_image": {
                    "cirros": "https://launchpad.net/cirros/trunk/0.3.0/+download/cirros-0.3.0-x86_64-disk.img"
                },
                "upload_images": [
                    "cirros"
                ]
            },
            "release": "icehouse",
            "secret": {
                "key_path": "/etc/chef/encrypted_data_bag_secret"
            },
            "sysctl": {
                "net.ipv4.conf.all.rp_filter": "0",
                "net.ipv4.conf.default.rp_filter": "0",
                "net.ipv4.ip_forward": "1"
            },
            "yum": {
                "repo-key": "https://raw.githubusercontent.com/redhat-openstack/rdo-release/master/RPM-GPG-KEY-RDO-Icehouse",
                "uri": "http://repos.fedorapeople.org/repos/openstack/openstack-icehouse/epel-6/"
            }
        },
        "yum": {
            "epel": {
                "baseurl": "http://epel.osuosl.org/6/$basearch",
                "enable": "true",
                "gpgkey": "http://epel.osuosl.org/RPM-GPG-KEY-EPEL-6"
            }
        }
    }
}
